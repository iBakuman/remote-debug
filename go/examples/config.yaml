# we default to setting the runMode to prod to prevent sensitive data from being exposed if the runMode is not explicitly set in production environments
runMode: dev

database:
  dsn: "host=postgres user=ciam password=ciam dbname=ciam port=5432 sslmode=disable TimeZone=Asia/Tokyo"
  debug: false
  maxIdleConns: 20
  maxOpenConns: 200
  connMaxLifetime: "30m"
  connMaxIdleTime: "10m"
  authMethod: "password" # password, iam

server:
  grpcAddress: ":50052"
  http:
    address: ":8787"
    tls:
      # Usaully, you should disable this in production
      # If you want to test local https server, set enabled to true
      # and you need add `127.0.0.1  ciam.local.theplant-dev.com` into your /etc/hosts
      # and exec `make update-macos-proxy-bypass` to bypass the proxy
      enabled: false
      certBase64: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZQakNDQXlhZ0F3SUJBZ0lVVUowbUViUUZmaTlFV2ZRSUFrS01YZ0FhNGZrd0RRWUpLb1pJaHZjTkFRRUwKQlFBd0ZERVNNQkFHQTFVRUF3d0piRzlqWVd4b2IzTjBNQjRYRFRJME1USXdPVEV3TVRBMU1sb1hEVEkxTVRJdwpPVEV3TVRBMU1sb3dGREVTTUJBR0ExVUVBd3dKYkc5allXeG9iM04wTUlJQ0lqQU5CZ2txaGtpRzl3MEJBUUVGCkFBT0NBZzhBTUlJQ0NnS0NBZ0VBcDl6ZVYyUi9yQ2c0TlR4ak8ya3lxR0JKY25FTVVuM045aS93ZVp5QU11cGQKNUVlRkUyL1hMKzliZm9yUWdlZzBiejdNd2RpYW9tRVphV2VES29jOTdWd1NIc1owa3ozUmc0K0NpNnN2b2ZvOApNZkFIS2pSK2lGcUdpdnJ1dk50b3FyZXVaWCtuRldud1JpY0J1eHBGNWZidlJuOHZTQTJxeHY3azFTUGJrWTEyCjRQUGhUMlhOOTBKNFBWUVAzZ1c3M0U3bEFUN1BQMWlkNGdaTk11SGpCUUZLVWdlT3pLWitoZ0R0Szc4aTVvVzgKU3V4c3RudDRsVjdTU21Qb1J3aXFkWm93QUhzQVhCN1pCM2p0SHRqK0NGejRrTkx2RFNhdEhPVFd1Z0hVYktWWgpUZ2V4dkFDTlRNclVOb0N3R2s1MkUveG9relRMZmJVK3NHT1lNVUl3dWVBdXZncFI1TXdRQkRha0VIaHl0R05QCkxSTlBIZCtlT01CS09YczdqV1ZJKzcwRnpqNk93VGMraDFCaUY4RklXa2Q1dndpbG1Ba0dzYUF3dTI0bFhpMSsKOVJaNUcreXRucjVPM0grd2xMS0FscDRpdzdta0FzRXM3cHdPc3crTTI2dEUzcENWRkF0Q0luS0dkSWtua3IxTwpyN3o1bjRieVdnbnhrTkxja1VMZzBBeEljSVhuNFhPV0Z6Q0NuWDJiWGVobzUwSWN6cXFMTkV6TTdIRnY2VWRDCk1yZEV3M0VrdzBqOXJKZFZCaEQ1clpLTXNHK28vdmxLQkV3eEJXeHliRTlsbzNDdXpSTENMSXZCbktoMlljYnIKLzhZSXhQbWtscUg5UkxYTXBKbTA0UVdKOTRFNDErSnlmaGFDZGVsQWsxalNudU1LeWp2cUpETW4rZm9JNjBjQwpBd0VBQWFPQmh6Q0JoREFkQmdOVkhRNEVGZ1FVUytSR1VQL2pkY29yRkIxQ296RkM2VlA5bHFBd0h3WURWUjBqCkJCZ3dGb0FVUytSR1VQL2pkY29yRkIxQ296RkM2VlA5bHFBd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBeEJnTlYKSFJFRUtqQW9nZ2xzYjJOaGJHaHZjM1NDQnlvdWJHOWpZV3lDRWlvdWRHaGxjR3hoYm5RdFpHVjJMbU52YlRBTgpCZ2txaGtpRzl3MEJBUXNGQUFPQ0FnRUFlNHlpdHlqR2FxamMzV0ZmRFVnZXJYNHg3MFE2VUR0aE9sUWN2dnpNCjgwOWJjWmFTVCtieTFWNmVraFV2ZDVySkJaZzRYNE0zY1dId0NNZFRNRkZYemhxT3BQKzV0NXliaXNRenhsN04KdGhsYlUyeDc4QUtxVkFqNWVtUEJGbGNoaWJPT3lRbXBOWnVlaDdNWENsQWxQcHNFUmtIL2tVWklBZVgvMUY1dwp0RDBZcWpMK2lwYmYwRE5CM0N6SjdNOG11dkFDM0d2dS9zUUxCeWZsVjhyVUZpak5UemhETWorM1N3UXo4VVFqCkZIUkw2d09uWC9CS3RyVjRYekI0NFJ4UmV4L3B2Wmh4QmZFeWVVaVJNZTB1U1FxZXByeHI5YjIwWjdEQVRwRTkKZ0hNMmpQbHpMWUVvQmltdFUxTnBpVW9MbFl6dGdIa2VIbThyRzJ6WTQrV0VkemNkcExUelhjaDFJamt3ekd2RAp2RnVTVEV4SEJEVWhiRllRM0RIcUg3Q1ZOSzhNNGxHSnltU3Z4K2orQWxRVXR2MUhDYVZsY0ZkVFJldTh0dVZ6CjYxT2t2cXRORktiaWlVUXpYRVVjeGNFZUN0WkJJcUdBWk5OOUF4U2pqQU16MUFxZU9YeDFQZWNwR1hnWXgvYWEKMndHanZoOFJERWIwaGVKZmNCYlp5a0lUa0dmZGU3dHFiRHY1aHdGTlI5aXRtVTJGZjdwYTk4TGlXamNHUlBodQprVHdPNytzL1ovZk42V2c0V0lKejNtOVBKTEpKSDMvODV4TEFnVm00aHQ0dDYrYTc0aU9ScEp1ayt1VE5mYVFCClhKNHZkL0UzWW16MS9RbFlpNjJWekY1Q3AzcjRpU0wydjJENXJtaG0yVm9RVjVsVTFVekhQU1FPUTNIRWRKdisKcHVFPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
      keyBase64: "LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUpRUUlCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQ1Nzd2dna25BZ0VBQW9JQ0FRQ24zTjVYWkgrc0tEZzEKUEdNN2FUS29ZRWx5Y1F4U2ZjMzJML0I1bklBeTZsM2tSNFVUYjljdjcxdCtpdENCNkRSdlBzekIySnFpWVJscApaNE1xaHozdFhCSWV4blNUUGRHRGo0S0xxeStoK2p3eDhBY3FOSDZJV29hSyt1NjgyMmlxdDY1bGY2Y1ZhZkJHCkp3RzdHa1hsOXU5R2Z5OUlEYXJHL3VUVkk5dVJqWGJnOCtGUFpjMzNRbmc5VkEvZUJidmNUdVVCUHM4L1dKM2kKQmsweTRlTUZBVXBTQjQ3TXBuNkdBTzBydnlMbWhieEs3R3kyZTNpVlh0SktZK2hIQ0twMW1qQUFld0JjSHRrSAplTzBlMlA0SVhQaVEwdThOSnEwYzVOYTZBZFJzcFZsT0I3RzhBSTFNeXRRMmdMQWFUbllUL0dpVE5NdDl0VDZ3Clk1Z3hRakM1NEM2K0NsSGt6QkFFTnFRUWVISzBZMDh0RTA4ZDM1NDR3RW81ZXp1TlpVajd2UVhPUG83Qk56NkgKVUdJWHdVaGFSM20vQ0tXWUNRYXhvREM3YmlWZUxYNzFGbmtiN0syZXZrN2NmN0NVc29DV25pTER1YVFDd1N6dQpuQTZ6RDR6YnEwVGVrSlVVQzBJaWNvWjBpU2VTdlU2dnZQbWZodkphQ2ZHUTB0eVJRdURRREVod2hlZmhjNVlYCk1JS2RmWnRkNkdqblFoek9xb3MwVE16c2NXL3BSMEl5dDBURGNTVERTUDJzbDFVR0VQbXRrb3l3YjZqKytVb0UKVERFRmJISnNUMldqY0s3TkVzSXNpOEdjcUhaaHh1di94Z2pFK2FTV29mMUV0Y3lrbWJUaEJZbjNnVGpYNG5KKwpGb0oxNlVDVFdOS2U0d3JLTytva015ZjUrZ2pyUndJREFRQUJBb0lDQUZFVzdrV1RZK1diYkVPelQxQ0U2aGJTCnBNaG0rZ2ZqaEJwWVlEZXZOWExqS3NZN0Vuc29QUENJRlUvVTZSTElSSVEwOXg3eGJ3bmdGREdKOHFBWnd2MmwKeTQ4WVdYcERrN0dWSXdBcml4QVpYUGpXdGU5YWVvR09FWTZUMTc1ZDAzc2N6bDl6d2hnakhCSVhoOHVGenB4ZgpwSWtPcVoyS0ZLU2F2NXFDL3UrYVFnSTdiZTA0QmI1Yld0QnRpbGk3dGx1ZnRScmI1NnYzT0JYVzYzWVlEdDM5CkdKVDExN0xlL3lIbTBxdWVZdEt2YWgxYmhzekVhcVRsc0hxRk50RVJ5NTZTQkh4Rzd3NlJURkJDeDNGdWE1RkkKc0Q3dDF0TW9pdG41WmcxbkV1SUZJbFlDZTRhUlViRDJEbnZod0xDRWxKL2svL09Vdm5TVW1Kc0hFWjlDRlZ6OQpMZ3ExWVNWS2t4aDRXVm5hYkQ1d0FIdVBtWUExeWxhQjFXdGdTbXVKZzZYMDBCRlFSWFptMXpYZVo1bWt4Y2J1CmEyMHd0UURrT2k0QXRHUmZPaGZseWJzTTMyZ3EwcUQxTFRjek5HRCtuR0h1UFZEd05zUHA5aGFUdkpPS0IyS2UKNkhuVEZadWNlNWdXZnpNaG5SYmtEWFRPQkt1N21jTmNrekc3UnkxUUVMZXd1UVdRbVVyU3oyVXphbG5sT1Q0VAoxRTErVmJOakZCdlplcW04cWtWMGNJT0NvTnVMZEFoNFp4QjBwbSs2aTduV29yUS9iY1VPZE53cFIzZUdhM3JWCmFXcDExWTVPcGRMYThUZWJIaHF6c1NvWnN5VWpoS3lVVit1dFA0K3JwNDBIVXVxYkEzNWdqR3l2RHN3dnphUUwKUGtvT2JzRkNiR3cxVk5qenZMRFpBb0lCQVFEVHhidUo4Yk5PeTE2ZE5ZVmcxZ3BSZ1lZNHUyaWhtOUxVdWZkRwpOcEFJUGovaTEwVjJNWDZTM254K3VPM1JGemxycEp6MXd3bzh5Ykk5OGI1aVYvRzg0MXV1TUNrV04vQVduNkRWCmoxMUtiREVveC9OMVNLbVlFTVRJaXNnRzJjRnpCUk1NMnRMaHk0Vkp3Q3RPR1o4SFM4Q1hEQ0NRV1FHcDg4dEMKZHZJQVBhOGphYjJFMFZ6Ylk3WDc2QTdEOTdoejNzVkZJWnYrSk1xMU1tMG94K0g1MFEzVEZGNFJLQTArVmJLMwpyMDIwM1RoeHR3aHhyK2JVVHorNkY0ZGE5dUlnYTJIbGJrUTNwcGJmM2Y4cmxMZUxqdFBxWUMzQ3RpTEFYeFZDCjRNN2hkQWFqeGoyQU9aWHZyNi9YejJ4cS9ZMnNpUEN6ejRNVStTLzJscG1qYW9yTEFvSUJBUURLNjRtZ1FyenkKRmYxRUY0S2d1blIwell6WkdNSmpVcFlVZXVqUkhkVHc4OTdTTzUzZ2Nsd2FYUk8xYzlPNmhVYUJudEE1ZUhtRwpIMTQyRVhBK3B3L1NaWmZSVGUzcFVYdDBlVEN1SHFDVFNnTG1MK2dxV3FiZThaUEgzS1U0b0grOU84bFJsT3hVClNUaThoYzlaY01idHV2NGd3OUJTK0t4aElwSEVzT0lscWd0UTVwcnRQTkdYRmxRbDJhQ0szQkcwUlkwbUo0bGkKR2E3eldtVjZheWVtUnVETDdYVVJWQXpvWmhsbFZDajF1RzJ6eGFXRVFvZHFtQlJLaGhsdjFQcVZCZUtOd0NZOApQdTd0cjRrc016Y210SEp2YWtXYWhhLytabzk0aGVTbk5MWFBKWWVEc1dyQU1SRVc0UkhWVWFLV0JoNDRlYjcrCjZ0SFM1OHlLOEdYMUFvSUJBQ1JiNnBzQWVIeXF4Zy9QeEpxZnBSM2hVeDRpYnhCd0pINkpmejc2MXpmVEdEem0KSVBMdUJJRksyYTBZS3h5ZkZDaTdGb2ZMZU5KKy9xOUw5aGdFYVdpNDBHRFR1L29vbUh3SjVCOUdnZ25wRVhlaQovTlhDSi93SHhRRjVjbVphdEsvK3l3cUY5M2IwN21sL0tQQTd6ZVgreDQ0bmN0L1ZxRWQ1cUFnOVM4ZG16ODhRCnRJMDlOT2dsOG5UUm50ZGVqTGk0SXI1L3lyeVRySW4zb201Q0F6WlZBajZmWEpjdGZUaWFsaGliYklnRkEwL2kKMFB4VDZ4bkFrWHh0MWJ0MGI5YUpHVUcrOE05dE5ySXc5MEtRUWdNZi9wcGE4UUJoTFE1Q1JQQTZrTXA4bFRkQgpMZ1g1M1JoTjNhNzcyZTEwb3dKZ2NKTXVxWjdNT2NQb2ozQlROb2tDZ2dFQU1rQ2VkcWZRYnd0dkN6dmZSN3FsCk9IL25ENlNJRDF6V2VmL3VSRXRrL3I4R1FYNHVIUFYxUmJvak5WNlg0cXM2eU1MeHdpbkp2cU5xQzIzS0pGbnYKR3lXNXNVWGhVMVN3aENtM0dvZlBNR3ExeVJlNElUVU4ra3hOVXNPYnp5aEFPamJpSm1nQkZ1YURQSHpPMnRHSgpFanFxMEtadG92NmVnZmV6cmNnNFdTZUJZZW1hR0lKbFRVdGtUM05UeE0rM09yTzJ2dW92cGJIQ2w5V2RKL0g5Cmdib3YxWkRhMncyN25Kb2NVL0hCcXdpZmNsUFNKNnpxS0VXOVVLOWhBVWIzUDR5VGpKTTNaTmdaQjVmZkdxa2MKVVdPQ3E0RGY5K0ovc1RybzhPb0h0RGpqaFljL3hpZGJ6bmpZU0pnNGVHR2RLQllmeWRDc3NpaXBDZGdKMmFhcgpPUUtDQVFCVUJBZ3Y5UFJZeTZoWkhPWnN2SS8rSjB2RzNheG84R0hrVjNGaldFTVZqT1lROTNLNytwa1FmOFp4CjBvSTArdEFWNk5uUjBCcVpydHdZM1RxSm5KNmJTL1NGVEx1REUwMHZWYzJhUnJuUjE4aU80S1FkNFhSSXpFOGoKaHhvYWlsTTJMVHFkKzVQNDFlTXpsdkUzNmJ0ZVZiUW0vMWpDMUdxN3QzcC9UTjFpTy9xRy9sWUp3RS9VaGdaVgpIYVJBTEtUa2lGUkdjUENuWHJab0I2K0w4VHp6UkU2MTNqUWFMcEUxVTJmTzRPUUNKeW0yaGMwTCsxQWhGQTN6CnhyaWlUWGVjTnhPYTQraTUxN01IQzZZdFZzbEYvWVFVMFVmWDJrZEl5UGtjTmVFRGtGQ0VhVVREbUtSRWR6RFAKWEc0NWlDbHFxR3VRQlpDVzVoOFlIM2JrU0FvTgotLS0tLUVORCBQUklWQVRFIEtFWS0tLS0tCg=="
    cors:
      allowedOrigins:
        - "http://localhost:5173"
        - "http://localhost:5174"
        - "https://local.theplant-dev.com:5174"
        - "https://kak.local.theplant-dev.com:5173"
        - "https://buf.build"
      allowedMethods: []
      exposedHeaders:
        - "X-Ciam-Dev-Expectation"
      maxAge: 600s
      denySimpleRequests: true
    denyMIMETypeSniffing: true
    denyClickjacking: true
    enableHSTS: true

auth:
  # JWK, base64-encoded private key set
  # This is a sample key, you should replace it with your own key, it's public key is ewoJImtleXMiOiBbCgkJewoJCQkiYWxnIjogIkVTMjU2IiwKCQkJImNydiI6ICJQLTI1NiIsCgkJCSJraWQiOiAiMTZiYmFhODctZDk1MC00OTgyLWE1ODQtOWU0MDU0MWMxZDlhIiwKCQkJImt0eSI6ICJFQyIsCgkJCSJ1c2UiOiAic2lnIiwKCQkJIngiOiAiWlZXRk1RdXFoNlFCZml3MHBOalp0Z1FQRVZQclhvRURjWW84SEc4NThBdyIsCgkJCSJ5IjogImlySFlISHd3elk0bkpEUnZDN2xibWF3eV9Ic1RlOFprb0FVWHJ5cGpyM0UiCgkJfQoJXQp9
  jwk: "ewoJImtleXMiOiBbCgkJewoJCQkiYWxnIjogIkVTMjU2IiwKCQkJImNydiI6ICJQLTI1NiIsCgkJCSJkIjogImdfd0Jpd0tiME41X1pDQm5iRlJzRzFFSXoyTHI2bFdJQWhKaFBnMjdjSnMiLAoJCQkia2lkIjogIjE2YmJhYTg3LWQ5NTAtNDk4Mi1hNTg0LTllNDA1NDFjMWQ5YSIsCgkJCSJrdHkiOiAiRUMiLAoJCQkidXNlIjogInNpZyIsCgkJCSJ4IjogIlpWV0ZNUXVxaDZRQmZpdzBwTmpadGdRUEVWUHJYb0VEY1lvOEhHODU4QXciLAoJCQkieSI6ICJpckhZSEh3d3pZNG5KRFJ2QzdsYm1hd3lfSHNUZThaa29BVVhyeXBqcjNFIgoJCX0KCV0KfQ=="
  sessionMaxAge: "24h"
  accessTokenMaxAge: "1h"
  refreshTokenMaxAge: "3h"
  tokenRotationGracePeriod: "1m"

hashers:
  bcrypt:
    cost: 12
  argon2:
    memory: 64MB # B, KB, MB, GB
    iterations: 1
    parallelism: 4
    saltLength: 16
    keyLength: 32

emailService:
  mock: true

protection:
  cipher:
    kind: nop
  hasher:
    kind: nop